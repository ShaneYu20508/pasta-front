import{H as h,L as f,a6 as x,O as n,Q as V,R as a,a3 as k,o as r,X as y,a0 as i,$ as u,P as c,U as w,T as b}from"./index-3d9fa740.js";import{V as g}from"./VContainer-f0e7e319.js";import{a as d,V as A}from"./VRow-106113c8.js";import{V as B}from"./VDataTable-42052228.js";import"./VSelect-67349047.js";import"./VList-1c2d2341.js";import"./ssrBoot-5e80b69f.js";const C=u("h1",{class:"text-center"},"訂單",-1),O={__name:"OrdersView",setup(W){const{apiAuth:m}=k(),p=h(),l=f([]),_=[{title:"訂單編號",key:"_id",minWidth:"200px"},{title:"下訂日期",key:"createdAt",minWidth:"150px"},{title:"訂單內容",key:"cart",sortable:!1,minWidth:"190px"},{title:"總金額",key:"price",value:s=>s.cart.reduce((o,t)=>o+t.quantity*t.product.price,0),minWidth:"95px"}];return x(async()=>{var s,o;try{const{data:t}=await m.get("/orders");l.value.push(...t.result)}catch(t){const e=((o=(s=t==null?void 0:t.response)==null?void 0:s.data)==null?void 0:o.message)||"發生錯誤，請稍後再試";p({text:e,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}}),(s,o)=>(n(),V(g,null,{default:a(()=>[r(A,null,{default:a(()=>[r(d,{cols:"12"},{default:a(()=>[C]),_:1}),r(d,{class:"mx-auto",cols:"12"},{default:a(()=>[r(B,{items:l.value,headers:_},{"item.createdAt":a(({item:t})=>[y(i(new Date(t.createdAt).toLocaleString()),1)]),"item.cart":a(({item:t})=>[u("ul",null,[(n(!0),c(b,null,w(t.cart,e=>(n(),c("li",{key:e._id},i(e.product.name)+" . "+i(e.noodle)+" * "+i(e.quantity),1))),128))])]),_:2},1032,["items"])]),_:1})]),_:1})]),_:1}))}};export{O as default};
