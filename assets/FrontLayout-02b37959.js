import{p as z,I as q,m as E,a as G,b as M,c as U,d as Y,e as J,g as H,u as X,t as L,f as O,h as K,i as Q,j as Z,k as ee,l as W,n as te,o,M as ae,w as oe,v as se,q as F,V as I,r as ne,s as le,x as re,y as ie,z as ue,A as ce,B as de,C as ge,D as b,E as me,F as fe,_ as ve,G as he,H as be,J as ke,K as ye,L as T,N as _e,O as n,P as f,Q as c,R as s,S as v,T as h,U as S,W as x,X as w,Y as B,Z as Ve,$ as j,a0 as p,a1 as Ce,a2 as we,a3 as xe}from"./index-60588b11.js";import{V as Be,a as Le,b as Se,c as pe,d as Ie}from"./VNavigationDrawer-80074ae6.js";import{V as A,a as $,b as Ne}from"./VList-f7383c42.js";import{V as Pe}from"./VContainer-00e3adad.js";import{V as Re,a as Fe}from"./VRow-bca670f5.js";import"./ssrBoot-cc27db3c.js";const Te=z({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:q,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...E(),...G({location:"top end"}),...M(),...U(),...Y(),...J({transition:"scale-rotate-transition"})},"VBadge"),D=H()({name:"VBadge",inheritAttrs:!1,props:Te(),setup(e,d){const{backgroundColorClasses:V,backgroundColorStyles:k}=X(L(e,"color")),{roundedClasses:a}=O(e),{t:C}=K(),{textColorClasses:y,textColorStyles:g}=Q(L(e,"textColor")),{themeClasses:_}=Z(),{locationStyles:m}=ee(e,!0,l=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(l)?+(e.offsetY??0):["left","right"].includes(l)?+(e.offsetX??0):0));return W(()=>{const l=Number(e.content),i=!e.max||isNaN(l)?e.content:l<=+e.max?l:`${e.max}+`,[r,u]=te(d.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return o(e.tag,F({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},u,{style:e.style}),{default:()=>{var t,N;return[o("div",{class:"v-badge__wrapper"},[(N=(t=d.slots).default)==null?void 0:N.call(t),o(ae,{transition:e.transition},{default:()=>{var P,R;return[oe(o("span",F({class:["v-badge__badge",_.value,V.value,a.value,y.value],style:[k.value,g.value,e.inline?{}:m.value],"aria-atomic":"true","aria-label":C(e.label,l),"aria-live":"polite",role:"status"},r),[e.dot?void 0:d.slots.badge?(R=(P=d.slots).badge)==null?void 0:R.call(P):e.icon?o(I,{icon:e.icon},null):i]),[[se,e.modelValue]])]}})])]}})}),{}}});const Ae=z({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...ne(),...E(),...le(),...re(),...M(),...U({tag:"footer"}),...Y()},"VFooter"),$e=H()({name:"VFooter",props:Ae(),setup(e,d){let{slots:V}=d;const{themeClasses:k}=ie(e),{backgroundColorClasses:a,backgroundColorStyles:C}=X(L(e,"color")),{borderClasses:y}=ue(e),{elevationClasses:g}=ce(e),{roundedClasses:_}=O(e),m=de(32),{resizeRef:l}=ge(u=>{u.length&&(m.value=u[0].target.clientHeight)}),i=b(()=>e.height==="auto"?m.value:parseInt(e.height,10)),{layoutItemStyles:r}=me({id:e.name,order:b(()=>parseInt(e.order,10)),position:b(()=>"bottom"),layoutSize:i,elementSize:b(()=>e.height==="auto"?void 0:i.value),active:b(()=>e.app),absolute:L(e,"absolute")});return W(()=>o(e.tag,{ref:l,class:["v-footer",k.value,a.value,y.value,g.value,_.value,e.class],style:[C.value,e.app?r.value:{height:fe(e.height)},e.style]},V)),{}}});const De=e=>(Ce("data-v-820ef3de"),e=e(),we(),e),ze=De(()=>j("strong",null,"義在家",-1)),Ee={__name:"FrontLayout",setup(e){const{apiAuth:d}=xe(),V=he(),k=be(),a=ke(),{mobile:C}=ye(),y=b(()=>C.value),g=T(!1),_=b(()=>[{to:"/productintroduce",text:"產品介紹",show:!a.isLogin||a.isLogin},{to:"/content",text:"聯繫我們",show:!a.isLogin||a.isLogin},{to:"/products",text:"快速訂購",show:!a.isLogin||a.isLogin},{to:"/signup",text:"會員",show:!a.isLogin},{to:"/cart",text:"購物車",show:a.isLogin},{to:"/orders",text:"我的訂單",show:a.isLogin},{to:"/admin/products",text:"管理",show:a.isLogin&&a.isAdmin}]),m=async()=>{var i,r;try{await d.delete("/users/logout"),a.logout(),k({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom"}}),V.push("/")}catch(u){const t=((r=(i=u==null?void 0:u.response)==null?void 0:i.data)==null?void 0:r.message)||"發生錯誤，請稍後再試";k({text:t,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}},l=T([{name:"mdi-facebook",link:"https://www.facebook.com/"},{name:"mdi-instagram",link:"https://www.instagram.com"}]);return(i,r)=>{const u=_e("RouterView");return n(),f(h,null,[y.value?(n(),c(Be,{key:0,modelValue:g.value,"onUpdate:modelValue":r[0]||(r[0]=t=>g.value=t),temporary:"",location:"left"},{default:s(()=>[o(Ne,{nav:""},{default:s(()=>[(n(!0),f(h,null,S(_.value,t=>(n(),f(h,{key:t.to},[t.show?(n(),c(A,{key:0,to:t.to},{prepend:s(()=>[o(I,{icon:t.icon},null,8,["icon"])]),append:s(()=>[t.to==="/cart"?(n(),c(D,{key:0,color:"error",content:x(a).cart,inline:""},null,8,["content"])):v("",!0)]),default:s(()=>[o($,null,{default:s(()=>[w(p(t.text),1)]),_:2},1024)]),_:2},1032,["to"])):v("",!0)],64))),128)),x(a).isLogin?(n(),c(A,{key:0,onClick:m},{prepend:s(()=>[o(I,{icon:"mdi-logout"})]),default:s(()=>[o($,null,{default:s(()=>[w("登出")]),_:1})]),_:1})):v("",!0)]),_:1})]),_:1},8,["modelValue"])):v("",!0),o(Le,{color:"#008C45"},{default:s(()=>[o(Pe,{class:"d-flex align-center w-100"},{default:s(()=>[o(B,{to:"/",active:!1},{default:s(()=>[o(pe,null,{default:s(()=>[ze]),_:1})]),_:1}),o(Ve),y.value?(n(),c(Ie,{key:0,onClick:r[1]||(r[1]=t=>g.value=!0)})):(n(),f(h,{key:1},[(n(!0),f(h,null,S(_.value,t=>(n(),f(h,{key:t.to},[t.show?(n(),c(B,{key:0,class:"text-h6",to:t.to,"prepend-icon":t.icon},{default:s(()=>[w(p(t.text),1),t.to==="/cart"?(n(),c(D,{key:0,color:"error",content:x(a).cart,floating:""},null,8,["content"])):v("",!0)]),_:2},1032,["to","prepend-icon"])):v("",!0)],64))),128)),x(a).isLogin?(n(),c(B,{key:0,class:"text-h6","prepend-icon":"mdi-logout",onClick:m},{default:s(()=>[w("登出")]),_:1})):v("",!0)],64))]),_:1})]),_:1}),o(Se,{style:{"min-height":"calc(100vh)"}},{default:s(()=>[(n(),c(u,{key:i.$route.path}))]),_:1}),o($e,{class:"px-0"},{default:s(()=>[o(Re,{class:"text-center bg-third"},{default:s(()=>[o(Fe,{cols:"12"},{default:s(()=>[j("strong",null,[w("©"+p(new Date().getFullYear())+"   -   義在家 pasta straight home",1),(n(!0),f(h,null,S(l.value,t=>(n(),c(B,{class:"ms-4",key:t,icon:t.name,href:t.link,target:"_blank",variant:"plain"},null,8,["icon","href"]))),128))])]),_:1})]),_:1})]),_:1})],64)}}},We=ve(Ee,[["__scopeId","data-v-820ef3de"]]);export{We as default};
